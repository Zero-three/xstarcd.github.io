<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="Stylesheet" type="text/css" href="../styles/style.css" />
    <title>graphviz绘图学习</title>
</head>
<body>
<div id="header">
    <ul id="top-nav">
    <li><a href="../index.html">首页</a></li>
    <li><a href="index.html">分类首页</a></li>
    </ul>
</div>
<div id="cse"></div>
<div id="main">

<h1>graphviz绘图学习</h1>
<div class="toc">
<ul>
<li><a href="#toc_0.1">资料收集</a>
<li><a href="#toc_0.2">范例</a>
<li><a href="#toc_0.3">其他参考</a>
<ul>
<li><a href="#toc_0.3.1">图的属性</a>
<li><a href="#toc_0.3.2">Record-based节点</a>
<li><a href="#toc_0.3.3">节点属性</a>
<li><a href="#toc_0.3.4">连线样式属性</a>
<li><a href="#toc_0.3.5">html表格</a>
<li><a href="#toc_0.3.6">使dot支持中文</a>
<li><a href="#toc_0.3.7">生成图形</a>
<li><a href="#toc_0.3.8">命令行全局设置</a>
<li><a href="#toc_0.3.9">添加注释</a>
<li><a href="#toc_0.3.10">关于graphviz结点的布局</a>
</ul>
</ul>
</ul>
</div>

<h2 id="toc_0.1">资料收集</h2>

<ul>
<li>
GraphvizOnline:

<ul>
<li>
<a href="http://dreampuf.github.io/GraphvizOnline/">http://dreampuf.github.io/GraphvizOnline/</a>

<li>
<a href="https://github.com/dreampuf/GraphvizOnline">https://github.com/dreampuf/GraphvizOnline</a>

</ul>
<li>
graphviz语方法：

<ul>
<li>
graphviz的基本语法及使用:<a href="https://blog.csdn.net/mouday/article/details/80902992">https://blog.csdn.net/mouday/article/details/80902992</a>

<li>
graphviz dot语言学习笔记:<a href="https://www.jianshu.com/p/e44885a777f0">https://www.jianshu.com/p/e44885a777f0</a>

<li>
Dot脚本语言语法整理:<a href="https://blog.csdn.net/jy692405180/article/details/52077979">https://blog.csdn.net/jy692405180/article/details/52077979</a>

</ul>
<li>
SVG （可缩放矢量图形）:

<ul>
<li>
(Scalable Vector Graphics，SVG)是W3C推出的基于XML的二维矢量图形标准。

<li>
SVG可以提供高质量的矢量图形渲染，同时由于支持JavaScript和文档对象模型，SVG图形通常具有强大的交互能力。

<li>
另一方面，SVG作为W3C所推荐的基于XML的开放标准，能够与其他网络技术进行无缝集成。 

</ul>
<li>
graphviz: <a href="http://www.graphviz.org/">http://www.graphviz.org/</a>

<li>
Gravizo说明范例:<a href="https://g.gravizo.com/">https://g.gravizo.com/</a>
<pre>
支持DOT, PlantUML, UMLGraph语法和JSON格式的SVG，在线调用Graphviz渲染并嵌入到markdown、html中。
注：https://g.gravizo.com/使用RGB方式color="#FF0000"指定颜色会报错，改为color=red就可以。
</pre>

<li>
好用的markdown工具Typora:<a href="https://typora.io/">https://typora.io/</a> ，在Typora编辑器中可直接嵌入graphviz、所见即所得：

<ul>
<li>
用markdown语法嵌入：
<pre>
![Alt text](https://g.gravizo.com/svg?
  digraph G {
    aize ="4,4";
    main [shape=box];
    main -&gt; parse [weight=8];
    parse -&gt; execute;
    main -&gt; init [style=dotted];
    main -&gt; cleanup;
    execute -&gt; { make_string; printf}
    init -&gt; make_string;
    edge [color=red];
    main -&gt; printf [style=bold,label="100 times"];
    make_string [label="make a string"];
    node [shape=box,style=filled,color=".7 .3 1.0"];
    execute -&gt; compare;
  }
)
</pre>

<li>
用img标签嵌入：
<pre>
&lt;img src='https://g.gravizo.com/svg?
 digraph G {
   main -&gt; parse -&gt; execute;
   main -&gt; init;
   main -&gt; cleanup;
   execute -&gt; make_string;
   execute -&gt; printf
   init -&gt; make_string;
   main -&gt; printf;
   execute -&gt; compare;
 }
'/&gt;
</pre>

<li>
但vimwiki对这种多行的标签处理，只能转换为单行方式、或者利用online站点转换为data:image码后再嵌入。

</ul>
</ul>

<h2 id="toc_0.2">范例</h2>

<pre class="brush:bash">
digraph ws {
    nodesep = .5;
    //rankdir = LR;  //指定绘图的方向 (LR从左到右绘制)
    node[shape=record, width=.1, height=.1];
    //site domain
    node[color="#550000"];
    site[label="{WebSite 
    | http://mysite.com
    | http://www.mysite.com}
    "];
	//logs
	logs[label="{logFile|mysite.access.log|mysite.error.log}"];
    //locations
    node[color="#008800"];
    uri1[label="{user|role}"];
    uri2[label="{app|commdata}"];
    uri3[label="{pushrouter|message}"];
    //Upstreams
    node[color="#000088"];
    spBase[label="{spBase|192.168.1.100:8080|192.168.1.101:8080}"];
    spData[label="{spData|192.168.1.102:8080|192.168.1.103:8080}"];
    spPush[label="{spPush|192.168.1.104:8080|192.168.1.105:8080}"];
    //links
    site -&gt; {logs,uri1,uri2,uri3};
    uri1 -&gt; spBase;
    uri2 -&gt; spData;
    uri3 -&gt; spPush;
}
</pre>

<ul>
<li>
在<a href="http://dreampuf.github.io/GraphvizOnline/">http://dreampuf.github.io/GraphvizOnline/</a> 中用上面代码转换出图片生成编码，直接用img标签嵌入html中即可：
<pre class="brush:html">
&lt;!--以img标签方式嵌入，图上文字不可选--&gt;
&lt;img width="500px" src="data:image/svg+xml;charset=utf-8,... /&gt;

&lt;!--以object标签方式嵌入，图上文字可选--&gt;
&lt;object width="500px" type="image/svg+xml" data="data:image/svg+xml;charset=utf-8,..." /&gt;&lt;/object&gt;

&lt;!--以iframe方式嵌入，大小不方便设定--&gt;
&lt;iframe src="data:image/svg+xml;charset=utf-8,..." width="670px" height="413px"&gt;&lt;/iframe&gt;

&lt;!--整合成单行代码，调用 https://g.gravizo.com/svg 生成图片方式--&gt;
&lt;img src='https://g.gravizo.com/svg? digraph G { main -&gt; parse -&gt; execute; main -&gt; init; main -&gt; cleanup; execute -&gt; make_string; execute -&gt; printf init -&gt; make_string; main -&gt; printf; execute -&gt; compare; }' width=300px /&gt;
</pre>

</ul>

<ul>
<li>
以img、object嵌入data:image方式：

</ul>
<p>
<img alt="img方式嵌入" width="500px" src="data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%0A%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%0A%3C!--%20Generated%20by%20graphviz%20version%202.40.1%20(20161225.0304)%0A%20--%3E%0A%3C!--%20Title%3A%20ws%20Pages%3A%201%20--%3E%0A%3Csvg%20width%3D%22499pt%22%20height%3D%22306pt%22%20viewBox%3D%220.00%200.00%20499.18%20306.20%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%3Cg%20id%3D%22graph0%22%20class%3D%22graph%22%20transform%3D%22scale(1%201)%20rotate(0)%20translate(4%20302.2)%22%3E%0A%3Ctitle%3Ews%3C%2Ftitle%3E%0A%3Cpolygon%20fill%3D%22%23ffffff%22%20stroke%3D%22transparent%22%20points%3D%22-4%2C4%20-4%2C-302.2%20495.1799%2C-302.2%20495.1799%2C4%20-4%2C4%22%2F%3E%0A%3C!--%20site%20--%3E%0A%3Cg%20id%3D%22node1%22%20class%3D%22node%22%3E%0A%3Ctitle%3Esite%3C%2Ftitle%3E%0A%3Cpolygon%20fill%3D%22none%22%20stroke%3D%22%23550000%22%20points%3D%22141.8801%2C-223.3%20141.8801%2C-297.7%20290.0891%2C-297.7%20290.0891%2C-223.3%20141.8801%2C-223.3%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%22215.9846%22%20y%3D%22-281.1%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3EWebSite%3C%2Ftext%3E%0A%3Cpolyline%20fill%3D%22none%22%20stroke%3D%22%23550000%22%20points%3D%22141.8801%2C-272.9%20290.0891%2C-272.9%20%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%22215.9846%22%20y%3D%22-256.3%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3Ehttp%3A%2F%2Fmysite.com%3C%2Ftext%3E%0A%3Cpolyline%20fill%3D%22none%22%20stroke%3D%22%23550000%22%20points%3D%22141.8801%2C-248.1%20290.0891%2C-248.1%20%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%22215.9846%22%20y%3D%22-231.5%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3Ehttp%3A%2F%2Fwww.mysite.com%3C%2Ftext%3E%0A%3C%2Fg%3E%0A%3C!--%20logs%20--%3E%0A%3Cg%20id%3D%22node2%22%20class%3D%22node%22%3E%0A%3Ctitle%3Elogs%3C%2Ftitle%3E%0A%3Cpolygon%20fill%3D%22none%22%20stroke%3D%22%23550000%22%20points%3D%220%2C-111.9%200%2C-186.3%20113.9692%2C-186.3%20113.9692%2C-111.9%200%2C-111.9%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%2256.9846%22%20y%3D%22-169.7%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3ElogFile%3C%2Ftext%3E%0A%3Cpolyline%20fill%3D%22none%22%20stroke%3D%22%23550000%22%20points%3D%220%2C-161.5%20113.9692%2C-161.5%20%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%2256.9846%22%20y%3D%22-144.9%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3Emysite.access.log%3C%2Ftext%3E%0A%3Cpolyline%20fill%3D%22none%22%20stroke%3D%22%23550000%22%20points%3D%220%2C-136.7%20113.9692%2C-136.7%20%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%2256.9846%22%20y%3D%22-120.1%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3Emysite.error.log%3C%2Ftext%3E%0A%3C%2Fg%3E%0A%3C!--%20site%26%2345%3B%26gt%3Blogs%20--%3E%0A%3Cg%20id%3D%22edge1%22%20class%3D%22edge%22%3E%0A%3Ctitle%3Esite-%26gt%3Blogs%3C%2Ftitle%3E%0A%3Cpath%20fill%3D%22none%22%20stroke%3D%22%23000000%22%20d%3D%22M162.5976%2C-223.0955C148.4948%2C-213.2147%20133.1587%2C-202.4698%20118.657%2C-192.3095%22%2F%3E%0A%3Cpolygon%20fill%3D%22%23000000%22%20stroke%3D%22%23000000%22%20points%3D%22120.429%2C-189.2774%20110.2307%2C-186.4058%20116.4123%2C-195.0104%20120.429%2C-189.2774%22%2F%3E%0A%3C%2Fg%3E%0A%3C!--%20uri1%20--%3E%0A%3Cg%20id%3D%22node3%22%20class%3D%22node%22%3E%0A%3Ctitle%3Euri1%3C%2Ftitle%3E%0A%3Cpolygon%20fill%3D%22none%22%20stroke%3D%22%23008800%22%20points%3D%22150.3247%2C-124.3%20150.3247%2C-173.9%20189.6445%2C-173.9%20189.6445%2C-124.3%20150.3247%2C-124.3%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%22169.9846%22%20y%3D%22-157.3%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3Euser%3C%2Ftext%3E%0A%3Cpolyline%20fill%3D%22none%22%20stroke%3D%22%23008800%22%20points%3D%22150.3247%2C-149.1%20189.6445%2C-149.1%20%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%22169.9846%22%20y%3D%22-132.5%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3Erole%3C%2Ftext%3E%0A%3C%2Fg%3E%0A%3C!--%20site%26%2345%3B%26gt%3Buri1%20--%3E%0A%3Cg%20id%3D%22edge2%22%20class%3D%22edge%22%3E%0A%3Ctitle%3Esite-%26gt%3Buri1%3C%2Ftitle%3E%0A%3Cpath%20fill%3D%22none%22%20stroke%3D%22%23000000%22%20d%3D%22M200.5393%2C-223.0955C195.2148%2C-210.2009%20189.2826%2C-195.8347%20184.0723%2C-183.2167%22%2F%3E%0A%3Cpolygon%20fill%3D%22%23000000%22%20stroke%3D%22%23000000%22%20points%3D%22187.3024%2C-181.8688%20180.2506%2C-173.9617%20180.8323%2C-184.5405%20187.3024%2C-181.8688%22%2F%3E%0A%3C%2Fg%3E%0A%3C!--%20uri2%20--%3E%0A%3Cg%20id%3D%22node4%22%20class%3D%22node%22%3E%0A%3Ctitle%3Euri2%3C%2Ftitle%3E%0A%3Cpolygon%20fill%3D%22none%22%20stroke%3D%22%23008800%22%20points%3D%22225.8268%2C-124.3%20225.8268%2C-173.9%20300.1424%2C-173.9%20300.1424%2C-124.3%20225.8268%2C-124.3%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%22262.9846%22%20y%3D%22-157.3%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3Eapp%3C%2Ftext%3E%0A%3Cpolyline%20fill%3D%22none%22%20stroke%3D%22%23008800%22%20points%3D%22225.8268%2C-149.1%20300.1424%2C-149.1%20%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%22262.9846%22%20y%3D%22-132.5%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3Ecommdata%3C%2Ftext%3E%0A%3C%2Fg%3E%0A%3C!--%20site%26%2345%3B%26gt%3Buri2%20--%3E%0A%3Cg%20id%3D%22edge3%22%20class%3D%22edge%22%3E%0A%3Ctitle%3Esite-%26gt%3Buri2%3C%2Ftitle%3E%0A%3Cpath%20fill%3D%22none%22%20stroke%3D%22%23000000%22%20d%3D%22M231.7657%2C-223.0955C237.2059%2C-210.2009%20243.2671%2C-195.8347%20248.5907%2C-183.2167%22%2F%3E%0A%3Cpolygon%20fill%3D%22%23000000%22%20stroke%3D%22%23000000%22%20points%3D%22251.8328%2C-184.5358%20252.4954%2C-173.9617%20245.3834%2C-181.8147%20251.8328%2C-184.5358%22%2F%3E%0A%3C%2Fg%3E%0A%3C!--%20uri3%20--%3E%0A%3Cg%20id%3D%22node5%22%20class%3D%22node%22%3E%0A%3Ctitle%3Euri3%3C%2Ftitle%3E%0A%3Cpolygon%20fill%3D%22none%22%20stroke%3D%22%23008800%22%20points%3D%22363.0491%2C-124.3%20363.0491%2C-173.9%20438.9201%2C-173.9%20438.9201%2C-124.3%20363.0491%2C-124.3%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%22400.9846%22%20y%3D%22-157.3%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3Epushrouter%3C%2Ftext%3E%0A%3Cpolyline%20fill%3D%22none%22%20stroke%3D%22%23008800%22%20points%3D%22363.0491%2C-149.1%20438.9201%2C-149.1%20%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%22400.9846%22%20y%3D%22-132.5%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3Emessage%3C%2Ftext%3E%0A%3C%2Fg%3E%0A%3C!--%20site%26%2345%3B%26gt%3Buri3%20--%3E%0A%3Cg%20id%3D%22edge4%22%20class%3D%22edge%22%3E%0A%3Ctitle%3Esite-%26gt%3Buri3%3C%2Ftitle%3E%0A%3Cpath%20fill%3D%22none%22%20stroke%3D%22%23000000%22%20d%3D%22M277.8441%2C-223.2505C302.8061%2C-208.2194%20331.1241%2C-191.1674%20354.3053%2C-177.2085%22%2F%3E%0A%3Cpolygon%20fill%3D%22%23000000%22%20stroke%3D%22%23000000%22%20points%3D%22356.1593%2C-180.1777%20362.9206%2C-172.0207%20352.5483%2C-174.181%20356.1593%2C-180.1777%22%2F%3E%0A%3C%2Fg%3E%0A%3C!--%20spBase%20--%3E%0A%3Cg%20id%3D%22node6%22%20class%3D%22node%22%3E%0A%3Ctitle%3EspBase%3C%2Ftitle%3E%0A%3Cpolygon%20fill%3D%22none%22%20stroke%3D%22%23000088%22%20points%3D%2234.7893%2C-.5%2034.7893%2C-74.9%20163.1799%2C-74.9%20163.1799%2C-.5%2034.7893%2C-.5%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%2298.9846%22%20y%3D%22-58.3%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3EspBase%3C%2Ftext%3E%0A%3Cpolyline%20fill%3D%22none%22%20stroke%3D%22%23000088%22%20points%3D%2234.7893%2C-50.1%20163.1799%2C-50.1%20%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%2298.9846%22%20y%3D%22-33.5%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3E192.168.1.100%3A8080%3C%2Ftext%3E%0A%3Cpolyline%20fill%3D%22none%22%20stroke%3D%22%23000088%22%20points%3D%2234.7893%2C-25.3%20163.1799%2C-25.3%20%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%2298.9846%22%20y%3D%22-8.7%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3E192.168.1.101%3A8080%3C%2Ftext%3E%0A%3C%2Fg%3E%0A%3C!--%20uri1%26%2345%3B%26gt%3BspBase%20--%3E%0A%3Cg%20id%3D%22edge5%22%20class%3D%22edge%22%3E%0A%3Ctitle%3Euri1-%26gt%3BspBase%3C%2Ftitle%3E%0A%3Cpath%20fill%3D%22none%22%20stroke%3D%22%23000000%22%20d%3D%22M154.0508%2C-124.0997C146.4666%2C-112.2%20137.1498%2C-97.5817%20128.3513%2C-83.7767%22%2F%3E%0A%3Cpolygon%20fill%3D%22%23000000%22%20stroke%3D%22%23000000%22%20points%3D%22131.2863%2C-81.8696%20122.9601%2C-75.3179%20125.3833%2C-85.6319%20131.2863%2C-81.8696%22%2F%3E%0A%3C%2Fg%3E%0A%3C!--%20spData%20--%3E%0A%3Cg%20id%3D%22node7%22%20class%3D%22node%22%3E%0A%3Ctitle%3EspData%3C%2Ftitle%3E%0A%3Cpolygon%20fill%3D%22none%22%20stroke%3D%22%23000088%22%20points%3D%22198.7893%2C-.5%20198.7893%2C-74.9%20327.1799%2C-74.9%20327.1799%2C-.5%20198.7893%2C-.5%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%22262.9846%22%20y%3D%22-58.3%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3EspData%3C%2Ftext%3E%0A%3Cpolyline%20fill%3D%22none%22%20stroke%3D%22%23000088%22%20points%3D%22198.7893%2C-50.1%20327.1799%2C-50.1%20%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%22262.9846%22%20y%3D%22-33.5%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3E192.168.1.102%3A8080%3C%2Ftext%3E%0A%3Cpolyline%20fill%3D%22none%22%20stroke%3D%22%23000088%22%20points%3D%22198.7893%2C-25.3%20327.1799%2C-25.3%20%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%22262.9846%22%20y%3D%22-8.7%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3E192.168.1.103%3A8080%3C%2Ftext%3E%0A%3C%2Fg%3E%0A%3C!--%20uri2%26%2345%3B%26gt%3BspData%20--%3E%0A%3Cg%20id%3D%22edge6%22%20class%3D%22edge%22%3E%0A%3Ctitle%3Euri2-%26gt%3BspData%3C%2Ftitle%3E%0A%3Cpath%20fill%3D%22none%22%20stroke%3D%22%23000000%22%20d%3D%22M262.9846%2C-124.0997C262.9846%2C-112.649%20262.9846%2C-98.6811%20262.9846%2C-85.3428%22%2F%3E%0A%3Cpolygon%20fill%3D%22%23000000%22%20stroke%3D%22%23000000%22%20points%3D%22266.4847%2C-85.3178%20262.9846%2C-75.3179%20259.4847%2C-85.3179%20266.4847%2C-85.3178%22%2F%3E%0A%3C%2Fg%3E%0A%3C!--%20spPush%20--%3E%0A%3Cg%20id%3D%22node8%22%20class%3D%22node%22%3E%0A%3Ctitle%3EspPush%3C%2Ftitle%3E%0A%3Cpolygon%20fill%3D%22none%22%20stroke%3D%22%23000088%22%20points%3D%22362.7893%2C-.5%20362.7893%2C-74.9%20491.1799%2C-74.9%20491.1799%2C-.5%20362.7893%2C-.5%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%22426.9846%22%20y%3D%22-58.3%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3EspPush%3C%2Ftext%3E%0A%3Cpolyline%20fill%3D%22none%22%20stroke%3D%22%23000088%22%20points%3D%22362.7893%2C-50.1%20491.1799%2C-50.1%20%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%22426.9846%22%20y%3D%22-33.5%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3E192.168.1.104%3A8080%3C%2Ftext%3E%0A%3Cpolyline%20fill%3D%22none%22%20stroke%3D%22%23000088%22%20points%3D%22362.7893%2C-25.3%20491.1799%2C-25.3%20%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%22426.9846%22%20y%3D%22-8.7%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3E192.168.1.105%3A8080%3C%2Ftext%3E%0A%3C%2Fg%3E%0A%3C!--%20uri3%26%2345%3B%26gt%3BspPush%20--%3E%0A%3Cg%20id%3D%22edge7%22%20class%3D%22edge%22%3E%0A%3Ctitle%3Euri3-%26gt%3BspPush%3C%2Ftitle%3E%0A%3Cpath%20fill%3D%22none%22%20stroke%3D%22%23000000%22%20d%3D%22M406.8195%2C-124.0997C409.492%2C-112.649%20412.752%2C-98.6811%20415.8651%2C-85.3428%22%2F%3E%0A%3Cpolygon%20fill%3D%22%23000000%22%20stroke%3D%22%23000000%22%20points%3D%22419.3403%2C-85.8517%20418.2048%2C-75.3179%20412.5235%2C-84.2606%20419.3403%2C-85.8517%22%2F%3E%0A%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E" />
<object width="500px" type="image/svg+xml" data="data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%0A%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%0A%3C!--%20Generated%20by%20graphviz%20version%202.40.1%20(20161225.0304)%0A%20--%3E%0A%3C!--%20Title%3A%20ws%20Pages%3A%201%20--%3E%0A%3Csvg%20width%3D%22499pt%22%20height%3D%22306pt%22%20viewBox%3D%220.00%200.00%20499.18%20306.20%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%3Cg%20id%3D%22graph0%22%20class%3D%22graph%22%20transform%3D%22scale(1%201)%20rotate(0)%20translate(4%20302.2)%22%3E%0A%3Ctitle%3Ews%3C%2Ftitle%3E%0A%3Cpolygon%20fill%3D%22%23ffffff%22%20stroke%3D%22transparent%22%20points%3D%22-4%2C4%20-4%2C-302.2%20495.1799%2C-302.2%20495.1799%2C4%20-4%2C4%22%2F%3E%0A%3C!--%20site%20--%3E%0A%3Cg%20id%3D%22node1%22%20class%3D%22node%22%3E%0A%3Ctitle%3Esite%3C%2Ftitle%3E%0A%3Cpolygon%20fill%3D%22none%22%20stroke%3D%22%23550000%22%20points%3D%22141.8801%2C-223.3%20141.8801%2C-297.7%20290.0891%2C-297.7%20290.0891%2C-223.3%20141.8801%2C-223.3%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%22215.9846%22%20y%3D%22-281.1%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3EWebSite%3C%2Ftext%3E%0A%3Cpolyline%20fill%3D%22none%22%20stroke%3D%22%23550000%22%20points%3D%22141.8801%2C-272.9%20290.0891%2C-272.9%20%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%22215.9846%22%20y%3D%22-256.3%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3Ehttp%3A%2F%2Fmysite.com%3C%2Ftext%3E%0A%3Cpolyline%20fill%3D%22none%22%20stroke%3D%22%23550000%22%20points%3D%22141.8801%2C-248.1%20290.0891%2C-248.1%20%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%22215.9846%22%20y%3D%22-231.5%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3Ehttp%3A%2F%2Fwww.mysite.com%3C%2Ftext%3E%0A%3C%2Fg%3E%0A%3C!--%20logs%20--%3E%0A%3Cg%20id%3D%22node2%22%20class%3D%22node%22%3E%0A%3Ctitle%3Elogs%3C%2Ftitle%3E%0A%3Cpolygon%20fill%3D%22none%22%20stroke%3D%22%23550000%22%20points%3D%220%2C-111.9%200%2C-186.3%20113.9692%2C-186.3%20113.9692%2C-111.9%200%2C-111.9%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%2256.9846%22%20y%3D%22-169.7%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3ElogFile%3C%2Ftext%3E%0A%3Cpolyline%20fill%3D%22none%22%20stroke%3D%22%23550000%22%20points%3D%220%2C-161.5%20113.9692%2C-161.5%20%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%2256.9846%22%20y%3D%22-144.9%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3Emysite.access.log%3C%2Ftext%3E%0A%3Cpolyline%20fill%3D%22none%22%20stroke%3D%22%23550000%22%20points%3D%220%2C-136.7%20113.9692%2C-136.7%20%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%2256.9846%22%20y%3D%22-120.1%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3Emysite.error.log%3C%2Ftext%3E%0A%3C%2Fg%3E%0A%3C!--%20site%26%2345%3B%26gt%3Blogs%20--%3E%0A%3Cg%20id%3D%22edge1%22%20class%3D%22edge%22%3E%0A%3Ctitle%3Esite-%26gt%3Blogs%3C%2Ftitle%3E%0A%3Cpath%20fill%3D%22none%22%20stroke%3D%22%23000000%22%20d%3D%22M162.5976%2C-223.0955C148.4948%2C-213.2147%20133.1587%2C-202.4698%20118.657%2C-192.3095%22%2F%3E%0A%3Cpolygon%20fill%3D%22%23000000%22%20stroke%3D%22%23000000%22%20points%3D%22120.429%2C-189.2774%20110.2307%2C-186.4058%20116.4123%2C-195.0104%20120.429%2C-189.2774%22%2F%3E%0A%3C%2Fg%3E%0A%3C!--%20uri1%20--%3E%0A%3Cg%20id%3D%22node3%22%20class%3D%22node%22%3E%0A%3Ctitle%3Euri1%3C%2Ftitle%3E%0A%3Cpolygon%20fill%3D%22none%22%20stroke%3D%22%23008800%22%20points%3D%22150.3247%2C-124.3%20150.3247%2C-173.9%20189.6445%2C-173.9%20189.6445%2C-124.3%20150.3247%2C-124.3%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%22169.9846%22%20y%3D%22-157.3%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3Euser%3C%2Ftext%3E%0A%3Cpolyline%20fill%3D%22none%22%20stroke%3D%22%23008800%22%20points%3D%22150.3247%2C-149.1%20189.6445%2C-149.1%20%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%22169.9846%22%20y%3D%22-132.5%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3Erole%3C%2Ftext%3E%0A%3C%2Fg%3E%0A%3C!--%20site%26%2345%3B%26gt%3Buri1%20--%3E%0A%3Cg%20id%3D%22edge2%22%20class%3D%22edge%22%3E%0A%3Ctitle%3Esite-%26gt%3Buri1%3C%2Ftitle%3E%0A%3Cpath%20fill%3D%22none%22%20stroke%3D%22%23000000%22%20d%3D%22M200.5393%2C-223.0955C195.2148%2C-210.2009%20189.2826%2C-195.8347%20184.0723%2C-183.2167%22%2F%3E%0A%3Cpolygon%20fill%3D%22%23000000%22%20stroke%3D%22%23000000%22%20points%3D%22187.3024%2C-181.8688%20180.2506%2C-173.9617%20180.8323%2C-184.5405%20187.3024%2C-181.8688%22%2F%3E%0A%3C%2Fg%3E%0A%3C!--%20uri2%20--%3E%0A%3Cg%20id%3D%22node4%22%20class%3D%22node%22%3E%0A%3Ctitle%3Euri2%3C%2Ftitle%3E%0A%3Cpolygon%20fill%3D%22none%22%20stroke%3D%22%23008800%22%20points%3D%22225.8268%2C-124.3%20225.8268%2C-173.9%20300.1424%2C-173.9%20300.1424%2C-124.3%20225.8268%2C-124.3%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%22262.9846%22%20y%3D%22-157.3%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3Eapp%3C%2Ftext%3E%0A%3Cpolyline%20fill%3D%22none%22%20stroke%3D%22%23008800%22%20points%3D%22225.8268%2C-149.1%20300.1424%2C-149.1%20%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%22262.9846%22%20y%3D%22-132.5%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3Ecommdata%3C%2Ftext%3E%0A%3C%2Fg%3E%0A%3C!--%20site%26%2345%3B%26gt%3Buri2%20--%3E%0A%3Cg%20id%3D%22edge3%22%20class%3D%22edge%22%3E%0A%3Ctitle%3Esite-%26gt%3Buri2%3C%2Ftitle%3E%0A%3Cpath%20fill%3D%22none%22%20stroke%3D%22%23000000%22%20d%3D%22M231.7657%2C-223.0955C237.2059%2C-210.2009%20243.2671%2C-195.8347%20248.5907%2C-183.2167%22%2F%3E%0A%3Cpolygon%20fill%3D%22%23000000%22%20stroke%3D%22%23000000%22%20points%3D%22251.8328%2C-184.5358%20252.4954%2C-173.9617%20245.3834%2C-181.8147%20251.8328%2C-184.5358%22%2F%3E%0A%3C%2Fg%3E%0A%3C!--%20uri3%20--%3E%0A%3Cg%20id%3D%22node5%22%20class%3D%22node%22%3E%0A%3Ctitle%3Euri3%3C%2Ftitle%3E%0A%3Cpolygon%20fill%3D%22none%22%20stroke%3D%22%23008800%22%20points%3D%22363.0491%2C-124.3%20363.0491%2C-173.9%20438.9201%2C-173.9%20438.9201%2C-124.3%20363.0491%2C-124.3%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%22400.9846%22%20y%3D%22-157.3%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3Epushrouter%3C%2Ftext%3E%0A%3Cpolyline%20fill%3D%22none%22%20stroke%3D%22%23008800%22%20points%3D%22363.0491%2C-149.1%20438.9201%2C-149.1%20%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%22400.9846%22%20y%3D%22-132.5%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3Emessage%3C%2Ftext%3E%0A%3C%2Fg%3E%0A%3C!--%20site%26%2345%3B%26gt%3Buri3%20--%3E%0A%3Cg%20id%3D%22edge4%22%20class%3D%22edge%22%3E%0A%3Ctitle%3Esite-%26gt%3Buri3%3C%2Ftitle%3E%0A%3Cpath%20fill%3D%22none%22%20stroke%3D%22%23000000%22%20d%3D%22M277.8441%2C-223.2505C302.8061%2C-208.2194%20331.1241%2C-191.1674%20354.3053%2C-177.2085%22%2F%3E%0A%3Cpolygon%20fill%3D%22%23000000%22%20stroke%3D%22%23000000%22%20points%3D%22356.1593%2C-180.1777%20362.9206%2C-172.0207%20352.5483%2C-174.181%20356.1593%2C-180.1777%22%2F%3E%0A%3C%2Fg%3E%0A%3C!--%20spBase%20--%3E%0A%3Cg%20id%3D%22node6%22%20class%3D%22node%22%3E%0A%3Ctitle%3EspBase%3C%2Ftitle%3E%0A%3Cpolygon%20fill%3D%22none%22%20stroke%3D%22%23000088%22%20points%3D%2234.7893%2C-.5%2034.7893%2C-74.9%20163.1799%2C-74.9%20163.1799%2C-.5%2034.7893%2C-.5%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%2298.9846%22%20y%3D%22-58.3%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3EspBase%3C%2Ftext%3E%0A%3Cpolyline%20fill%3D%22none%22%20stroke%3D%22%23000088%22%20points%3D%2234.7893%2C-50.1%20163.1799%2C-50.1%20%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%2298.9846%22%20y%3D%22-33.5%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3E192.168.1.100%3A8080%3C%2Ftext%3E%0A%3Cpolyline%20fill%3D%22none%22%20stroke%3D%22%23000088%22%20points%3D%2234.7893%2C-25.3%20163.1799%2C-25.3%20%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%2298.9846%22%20y%3D%22-8.7%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3E192.168.1.101%3A8080%3C%2Ftext%3E%0A%3C%2Fg%3E%0A%3C!--%20uri1%26%2345%3B%26gt%3BspBase%20--%3E%0A%3Cg%20id%3D%22edge5%22%20class%3D%22edge%22%3E%0A%3Ctitle%3Euri1-%26gt%3BspBase%3C%2Ftitle%3E%0A%3Cpath%20fill%3D%22none%22%20stroke%3D%22%23000000%22%20d%3D%22M154.0508%2C-124.0997C146.4666%2C-112.2%20137.1498%2C-97.5817%20128.3513%2C-83.7767%22%2F%3E%0A%3Cpolygon%20fill%3D%22%23000000%22%20stroke%3D%22%23000000%22%20points%3D%22131.2863%2C-81.8696%20122.9601%2C-75.3179%20125.3833%2C-85.6319%20131.2863%2C-81.8696%22%2F%3E%0A%3C%2Fg%3E%0A%3C!--%20spData%20--%3E%0A%3Cg%20id%3D%22node7%22%20class%3D%22node%22%3E%0A%3Ctitle%3EspData%3C%2Ftitle%3E%0A%3Cpolygon%20fill%3D%22none%22%20stroke%3D%22%23000088%22%20points%3D%22198.7893%2C-.5%20198.7893%2C-74.9%20327.1799%2C-74.9%20327.1799%2C-.5%20198.7893%2C-.5%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%22262.9846%22%20y%3D%22-58.3%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3EspData%3C%2Ftext%3E%0A%3Cpolyline%20fill%3D%22none%22%20stroke%3D%22%23000088%22%20points%3D%22198.7893%2C-50.1%20327.1799%2C-50.1%20%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%22262.9846%22%20y%3D%22-33.5%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3E192.168.1.102%3A8080%3C%2Ftext%3E%0A%3Cpolyline%20fill%3D%22none%22%20stroke%3D%22%23000088%22%20points%3D%22198.7893%2C-25.3%20327.1799%2C-25.3%20%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%22262.9846%22%20y%3D%22-8.7%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3E192.168.1.103%3A8080%3C%2Ftext%3E%0A%3C%2Fg%3E%0A%3C!--%20uri2%26%2345%3B%26gt%3BspData%20--%3E%0A%3Cg%20id%3D%22edge6%22%20class%3D%22edge%22%3E%0A%3Ctitle%3Euri2-%26gt%3BspData%3C%2Ftitle%3E%0A%3Cpath%20fill%3D%22none%22%20stroke%3D%22%23000000%22%20d%3D%22M262.9846%2C-124.0997C262.9846%2C-112.649%20262.9846%2C-98.6811%20262.9846%2C-85.3428%22%2F%3E%0A%3Cpolygon%20fill%3D%22%23000000%22%20stroke%3D%22%23000000%22%20points%3D%22266.4847%2C-85.3178%20262.9846%2C-75.3179%20259.4847%2C-85.3179%20266.4847%2C-85.3178%22%2F%3E%0A%3C%2Fg%3E%0A%3C!--%20spPush%20--%3E%0A%3Cg%20id%3D%22node8%22%20class%3D%22node%22%3E%0A%3Ctitle%3EspPush%3C%2Ftitle%3E%0A%3Cpolygon%20fill%3D%22none%22%20stroke%3D%22%23000088%22%20points%3D%22362.7893%2C-.5%20362.7893%2C-74.9%20491.1799%2C-74.9%20491.1799%2C-.5%20362.7893%2C-.5%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%22426.9846%22%20y%3D%22-58.3%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3EspPush%3C%2Ftext%3E%0A%3Cpolyline%20fill%3D%22none%22%20stroke%3D%22%23000088%22%20points%3D%22362.7893%2C-50.1%20491.1799%2C-50.1%20%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%22426.9846%22%20y%3D%22-33.5%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3E192.168.1.104%3A8080%3C%2Ftext%3E%0A%3Cpolyline%20fill%3D%22none%22%20stroke%3D%22%23000088%22%20points%3D%22362.7893%2C-25.3%20491.1799%2C-25.3%20%22%2F%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20x%3D%22426.9846%22%20y%3D%22-8.7%22%20font-family%3D%22Times%2Cserif%22%20font-size%3D%2214.00%22%20fill%3D%22%23000000%22%3E192.168.1.105%3A8080%3C%2Ftext%3E%0A%3C%2Fg%3E%0A%3C!--%20uri3%26%2345%3B%26gt%3BspPush%20--%3E%0A%3Cg%20id%3D%22edge7%22%20class%3D%22edge%22%3E%0A%3Ctitle%3Euri3-%26gt%3BspPush%3C%2Ftitle%3E%0A%3Cpath%20fill%3D%22none%22%20stroke%3D%22%23000000%22%20d%3D%22M406.8195%2C-124.0997C409.492%2C-112.649%20412.752%2C-98.6811%20415.8651%2C-85.3428%22%2F%3E%0A%3Cpolygon%20fill%3D%22%23000000%22%20stroke%3D%22%23000000%22%20points%3D%22419.3403%2C-85.8517%20418.2048%2C-75.3179%20412.5235%2C-84.2606%20419.3403%2C-85.8517%22%2F%3E%0A%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E" /></object>
</p>


<ul>
<li>
整合成单行代码，调用 <a href="https://g.gravizo.com/svg">https://g.gravizo.com/svg</a> 生成图片方式：

</ul>

<p>
<img src='https://g.gravizo.com/svg? digraph G { main -> parse -> execute; main -> init; main -> cleanup; execute -> make_string; execute -> printf init -> make_string; main -> printf; execute -> compare; }' width=300px />
<img src='https://g.gravizo.com/svg? digraph ws { nodesep = .5; node[shape=record, width=.1, height=.1]; node[color="blue"]; site[label="{WebSite|http://mysite.com|http://www.mysite.com}"]; logs[label="{logFile|mysite.access.log|mysite.error.log}"]; uri1[label="{user|role}"]; uri2[label="{app|commdata}"]; uri3[label="{pushrouter|message}"]; spBase[label="{spBase|192.168.1.100:8080|192.168.1.101:8080}"]; spData[label="{spData|192.168.1.102:8080|192.168.1.103:8080}"]; spPush[label="{spPush|192.168.1.104:8080|192.168.1.105:8080}"]; site -> {logs,uri1,uri2,uri3}; uri1 -> spBase; uri2 -> spData; uri3 -> spPush; }' width=500px />
</p>

<h2 id="toc_0.3">其他参考</h2>

<h3 id="toc_0.3.1">图的属性</h3>

<pre class="brush:bash">
digraph graph1 {
    bgcolor = red;
    graph [bgcolor = red];
}
</pre>

<ul>
<li>
bgcolor：设置图的背景颜色，可以使用red、blue、green等形式，或者使用"#rrggbb"形式。

<li>
label：设置图的描述。label会继承到子图，子图里如果不想重复显示必须手动设置

<li>
rankdir：设置图的方向，包括：TB（top to bottom）、BT（bottom to top）、LR（left to right）、RL（right to left）。

<li>
rotate：设置图的旋转。如：rotate = 90便是逆时针旋转90度。

<li>
ratio：设置图的长宽比，可以是一个浮点数，也可以是：fill、compress或者auto。

</ul>

<h3 id="toc_0.3.2">Record-based节点</h3>

<p>
<a href="https://graphviz.org/doc/info/shapes.html">https://graphviz.org/doc/info/shapes.html</a>
</p>

<p>
设置为record和Mrecord的结点的label属性可以很方便地生成单列的表格和UML图等。（类似于XAML里面的stack）
</p>

<p>
用一对双引号+一对花括号包含起来的就是表格内容，不同的格子之间用符号 | 隔开，尖括号里的内容表示一个锚点（具体讲解见下文）。
</p>
<pre class="brush:bash">
//其中&lt;head&gt;是定义的锚点名称，不会显示。
example [ shape = record, label = "{&lt;head&gt;cell1 | cell2 | cell3}" ];
</pre>

<pre class="brush:bash">
digraph g {
    nodesep = .5;
    rankdir = LR;  //指定绘图的方向 (LR从左到右绘制)
    //定义竖直节点
    node[shape=record, width=.1, height=.1];
    //我是一个属性, 我有7个属性，&lt;f0&gt;表示链接点
    node0[label="&lt;f0&gt; f0 |&lt;f1&gt; f1 |&lt;f2&gt; f2 |&lt;f3&gt; f3 |&lt;f4&gt; f4 |&lt;f5&gt; f5 |&lt;f6&gt; f6", height=2.5];
    
    //定义横向节点
    node[shape=record,width=1.5,color=black];
    node1[label="{&lt;n&gt; a13 | 111 | &lt;p&gt; good }"]; //我也是一个节点, 定义了3个属性
    node2[label="{&lt;n&gt; hello | 2387 | &lt;p&gt;}"];
    node3[label="{&lt;n&gt; g23 | 344 | &lt;p&gt;}"];
    node4[label="{&lt;n&gt; k535 | 246 | &lt;p&gt;}"];
    node5[label="{&lt;n&gt; h25 | 13 | &lt;p&gt;}"];
    node6[label="{&lt;n&gt; dj | 04 | &lt;p&gt;}"];
    node7[label="{&lt;n&gt; sbd | 0x543 | &lt;p&gt;}"];

    //建立节点之间的联系
    node0:f0 -&gt; node1:n;
    node0:f1 -&gt; node2:n;
    node0:f2 -&gt; node3:n;
    node0:f5 -&gt; node4:n;
    node0:f6 -&gt; node5:n;
    node2:p -&gt; node6:n;
    node4:p -&gt; node7:n;
    node0:f6 -&gt; node1:p;
    node0 -&gt; node6;
}
</pre>

<h3 id="toc_0.3.3">节点属性</h3>

<p>
使用node []和edge []可以分别设置结点和边的全局设置：
</p>
<pre class="brush:bash">
digraph graph1 {
    node [shape = egg];
    edge [style = dashed];

    a -&gt; b;
}
</pre>

<p>
结点的常用属性：
</p>
<ul>
<li>
shape：设置结点形状。包括：

<ul>
<li>
Mrecord（圆角矩形）、record（矩形）、circle（圆形）、box（矩形，和record略有区别，下面会讲到）、egg（蛋形）、doublecircle（双圆形）、plaintext（纯文本）、 ellipse（椭圆，默认）。

</ul>
<li>
label：设置结点的显示内容，内容用双引号包含，可以使用转义字符。当结点内容!=结点名时使用

<li>
style：设置结点的样式。包括：

<ul>
<li>
filled(填充)、dotted（点状边框）、solid（普通边框）、dashed（虚线边框）、bold（边框加粗）、invis（隐形）。

</ul>
<li>
color：设置边框颜色。可以使用单词形式或者"#rrggbb"形式。

<ul>
<li>
如果设置了style=filled，此时设置的color是代表整体颜色。

<li>
但是如果设置了fillcolor再设置color的话，color代表边框颜色。 

</ul>
<li>
fillcolor：设置填充颜色，仅style=filled时有效。

<li>
width：设置结点宽度。

<li>
height：设置结点高度。

<li>
peripheries：设置结点边框个数。

<li>
fontcolor：设置结点内容颜色。可以使用单词形式或者"#rrggbb"形式。

</ul>

<pre class="brush:bash">
//定义a节点为长方形, 节点显示的文本为"Hello world"样式为填充, 填充颜色为#ABACBA
a[shape=box,label="Hello world",style=filled,fillcolor="#ABACBA"];

//设置以下节点默认属性
node[shape=record, width=.1, height=.1];
</pre>

<pre class="brush:bash">
digraph g {
      //==========定义节点关系============
      a-&gt;b;
      b-&gt;c;
      c-&gt;a;
      c-&gt;d-&gt;e-&gt;f;
      d-&gt;g;
      e-&gt;h;
      //==========定义节点属性============
      //定义a节点为长方形, 样式为填充, 填充颜色为#ABACBA
      a[shape=box,label="Server1\nWebServer",fillcolor="#ABACBA",style=filled];

      //定义b为5边形, 标签为"bb", 样式为填充, 填充色为red
      b[shape=polygon,sides=5,label="bb",style=filled,fillcolor=red];

      //c, 默认为椭圆
      d[shape=circle]; //园
      e[shape=triangle]; //三角形
      f[shape=polygon, sides=4, skew=0.5]; //平行四边形
      g[shape=polygon, distortion=0.5]; //梯形, 上边长
      h[shape=polygon, distortion=-.5]; //梯形, 下边长
  }
</pre>

<h3 id="toc_0.3.4">连线样式属性</h3>

<p>
边的常用属性：
</p>
<ul>
<li>
style：设置边的形状。包括：solid（实线）、dashed（虚线）、dotted（点线）、bold（加粗）、invis（隐形）。

<li>
label：设置边标签。内容用双引号包含，可以使用转义字符。

<li>
color：设置边颜色。可以使用单词形式或者"#rrggbb"形式。

<li>
arrowhead：设置结点箭头样式。包括：none、empty、odiamond等。

</ul>

<pre class="brush: bash">
# graph无向图，连接线--
# digraph有向图，连接用-&gt;
digraph g {
  //edge[style=dashed]; //定义边的样式, 虚线
  node[peripheries=2, style=filled, color="#eecc80"];
  a-&gt;b [color=red, style=dashed]; //定义边的颜色, 红色 (b和方括号之间必须有空格)
  b-&gt;c; //箭头, 三角形; 箭尾, 菱形
  b-&gt;d [arrowhead=box]; //箭头, 长方形
  b-&gt;e [dir=none]; //没有箭头
  d-&gt;f [dir=both]; //双向箭头
  f-&gt;h [label=go]; //定义edge的标签
  f-&gt;k [arrowhead=diamond]; //更改箭头形状 (更多箭头形状请参考官方文档: http://www.graphviz.org/content/arrow-shapes)
  k-&gt;y [headlabel="哈哈", taillabel="洗洗"];
}
</pre>

<h3 id="toc_0.3.5">html表格</h3>

<p>
如果record生成的表格不符合预期，还可以使用html标签生成表格。只需要将结点的label属性设置为相应的html代码（用一对尖括号包含）即可。
</p>

<p>
port属性可以为td增加一个锚点。
</p>

<pre class="brush:bash">
table1 [label=&lt;
&lt;table&gt;
    &lt;tr&gt;
        &lt;td port="one"&gt;1&lt;/td&gt;
        &lt;td&gt;2&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;3&lt;/td&gt;
        &lt;td&gt;4&lt;/td&gt;
    &lt;/tr&gt;
&lt;/table&gt;
&gt;];
</pre>

<p>
cell的锚点可以让使用者在cell之间画线。
</p>

<p>
引用cell的锚点的语法为：table: anchor_name
</p>

<pre class="brush:bash">
digraph example2 {
    node [shape = record];
    table1 [label = "{&lt;head&gt;cell1 | cell2 | cell3}"];
    table2 [label = "{&lt;head&gt;cell1 | cell2}"];

    table1: head -&gt; table2: head;
}
</pre>


<pre class="brush:bash">
digraph structs {
    node [shape=plaintext]
    struct1 [label=&lt;
&lt;TABLE BORDER="0" CELLBORDER="1" CELLSPACING="0"&gt;
  &lt;TR&gt;&lt;TD&gt;left&lt;/TD&gt;&lt;TD PORT="f1"&gt;middle&lt;/TD&gt;&lt;TD PORT="f2"&gt;right&lt;/TD&gt;&lt;/TR&gt;
&lt;/TABLE&gt;&gt;];
    struct2 [label=&lt;
&lt;TABLE BORDER="0" CELLBORDER="1" CELLSPACING="0"&gt;
  &lt;TR&gt;&lt;TD PORT="f0"&gt;one&lt;/TD&gt;&lt;TD&gt;two&lt;/TD&gt;&lt;/TR&gt;
&lt;/TABLE&gt;&gt;];
    struct3 [label=&lt;
&lt;TABLE BORDER="0" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4"&gt;
  &lt;TR&gt;
    &lt;TD ROWSPAN="3"&gt;hello&lt;BR/&gt;world&lt;/TD&gt;
    &lt;TD COLSPAN="3"&gt;b&lt;/TD&gt;
    &lt;TD ROWSPAN="3"&gt;g&lt;/TD&gt;
    &lt;TD ROWSPAN="3"&gt;h&lt;/TD&gt;
  &lt;/TR&gt;
  &lt;TR&gt;
    &lt;TD&gt;c&lt;/TD&gt;&lt;TD PORT="here"&gt;d&lt;/TD&gt;&lt;TD&gt;e&lt;/TD&gt;
  &lt;/TR&gt;
  &lt;TR&gt;
    &lt;TD COLSPAN="3"&gt;f&lt;/TD&gt;
  &lt;/TR&gt;
&lt;/TABLE&gt;&gt;];
    struct1:f1 -&gt; struct2:f0;
    struct1:f2 -&gt; struct3:here;
}}}}

=== subgraph定义子图 ===

{{{class="brush:bash"
digraph g {
    //定义一个子图, subgraph定义子图
	//注意：子图的名字必须以cluster开始，否则解析引擎无法进行识别
    subgraph cluster0 {
        node[style=filled, color=white];  //定义子图中的节点的样式
        style=filled; //定义子图的样式
        color=red; //定义子图的填充色
        a0-&gt;a1-&gt;a2-&gt;a3; //定义节点, 及节点之间的关系
        label="process #1"; //定义子图的标签
     }

   //又定义一个子图
   subgraph cluster1 {
      node[style=filled, color=white];
      style=filled;
      color=blue; //定义子图的填充色
      b0-&gt;b1-&gt;b2-&gt;b3; //定义节点及其关系
      label="process #2";
      labelColor=white;
   }

   //定义子图之间的关系
   start-&gt;a0;
   start-&gt;b0;
   a1-&gt;b3;
   b2-&gt;a3;
   a3-&gt;end;
   b3-&gt;end;
</pre>

<h3 id="toc_0.3.6">使dot支持中文</h3>

<p>
Graphviz默认是不支持中文的，输入的中文在生成的图中显示为一个空方块。如果想要让其支持中文，可以尝试以下方法：
</p>

<p>
方法一：在命令行里指定-Nfontname=xxx.ttf，在gv文件中输入utf-8编码的汉字。
</p>

<p>
方法二：给graph、node和edge均设置fontname = xxx.ttf然后设置label。
</p>


<h3 id="toc_0.3.7">生成图形</h3>

<p>
我们还可以巧妙地使用结点的某些属性来生成图形。如：
</p>
<pre>
circle [label="", shape="circle", width=0.5, fixedsize=true, style=filled, color=black];
</pre>
<p>
就生成了一个实心黑色圆形。
</p>


<h3 id="toc_0.3.8">命令行全局设置</h3>

<p>
不仅可以使用代码里的全局设置，还可以在命令行里进行全局设置，这样做的好处就是可以根据不同要求来生成图形。
</p>
<pre>
dot -Grankdir=LR -Nshape="plaintext" -Earrowhead="odiamond" -Tpng example.dot -o example.png

# Grankdir  = graph rankdir
# Nshape    = node shape
# Earrowhead= edge arrowhead
</pre>

<p>
其他的属性均按照这种规则进行填写。
</p>

<h3 id="toc_0.3.9">添加注释</h3>

<p>
Dot的注释使用//（单行）或者/**/（多行）。
</p>
<pre>
// 这是单行注释

/*
这是多行注释
*/
</pre>

<h3 id="toc_0.3.10">关于graphviz结点的布局</h3>

<p>
graphviz的节点出现在画布上的位置事实上是不确定的，依赖于所使用的布局算法，而不是在脚本中出现的位置，这可能使刚开始接触graphviz的开发人员有点不适应。graphviz的强项在于自动布局，当图中的顶点和边的数目变得很多的时候，才能很好的体会这一特性的好处。
</p>

</div>
<div id="footer">
<p>
&copy; 2012 - 2015 XStar
&nbsp;|&nbsp;<a href="http://code.google.com/p/vimwiki/" title="vimwiki">Powerby:Vimwiki</a>
&nbsp;|&nbsp;<a href="http://kwiki.github.io" title="丘迟">Style:丘迟</a>
&nbsp;|&nbsp;<a href="../index.html">首页</a>
&nbsp;|&nbsp;<a href="index.html">分类首页</a>
&nbsp;|&nbsp;<a href="../SiteMap.html">站点地图</a>
</p>
</div>
<script type="text/javascript">var vimwiki_rootpath="../";</script>
<script type="text/javascript" src="https://cdn.staticfile.org/jquery/2.0.0/jquery.min.js"></script>
<script type="text/javascript" src="../scripts/vimwiki.js"></script>
</body>
</html>

